# DogsRandomCollection Smart Contract

This Solidity smart contract is called DogsRandomCollection and is based on the ERC721 standard. Its purpose is to mint NFTs (Non-Fungible Tokens) representing different dog breeds in a random fashion. The metadata is generated by AI  and images are taken from the internet. Both of them are deployed to Pinata for decentralized access. This project was inspired by Patrick Collins' Free Code Camp tutorial video. However, I have made improvements to gas efficiency, fixed a bug with a token counter, and added tests to cover the breed randomness received from the VRF (Verifiable Random Function) functions.

The contract makes use of Chainlink's VRF (Verifiable Random Function) to generate random numbers securely and ensure that the dog breed distribution is even. The breed is chosen from a predefined set of options and the contract's owner can adjust the price of minting a new token. In addition, the contract owner can withdraw the accumulated balance in the contract account.

Link to testnet opeansea collection https://testnets.opensea.io/collection/random-doggy-dogs-3
Link to verified contract at bscscan: https://testnet.bscscan.com/address/0x7a3ca232a462e063eef49d3f8f55947cdb04a349#code

## Requirements

- `@chainlink/contracts/src/v0.8/interfaces/VRFCoordinatorV2Interface.sol`
- `@chainlink/contracts/src/v0.8/VRFConsumerBaseV2.sol`
- `@openzeppelin/contracts/token/ERC721/extensions/ERC721URIStorage.sol`
- `hardhat/console.sol`

## Installation

1. Clone this repository
2. Install the required dependencies with `npm install`
3. Compile the contract with `npx hardhat compile`

## Usage

1. Deploy the contract to a local or public network using Hardhat
2. Call the `purchaseDog` function to purchase a random dog NFT
3. After a random number has been generated by Chainlink VRF, the contract will mint a new NFT with the determined breed
4. The NFT can be transferred or displayed as desired

## License

This project is licensed under the terms of the MIT license.

## Functions

### `purchaseDog()`

Initiates the generation of a random dog breed for an NFT.

### `fulfillRandomWords(uint256 requestId, uint256[] memory randomWords) internal override`

Callback function for the Chainlink VRF that generates the random dog breed and mints the NFT.

### `getBreed(uint8 dogType) public pure returns (Breed)`

Converts the randomly generated number into a Breed type, which represents the dog breed for the NFT.

### `withdraw() public only(owner)`

Allows the owner of the contract to withdraw the contract's balance.

### `changeMintPrice(uint256 newPrice) public only(owner)`

Allows the owner of the contract to change the `mint_fee` value to a new price.

### `getDogTokenUri(uint256 index) public view returns (string memory)`

Returns the URI of the image associated with a particular dog breed. The `index` parameter corresponds to the Breed enum.